<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NNITRO OS</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        :root { --orange: #ff8c00; --bg: #ff9d2e; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--bg); color: #fff; height: 100vh; overflow: hidden; }

        /* –í–•–û–î */
        #auth { position: fixed; inset: 0; background: var(--bg); z-index: 10000; display: flex; align-items: center; justify-content: center; }
        .auth-form { width: 85%; max-width: 320px; text-align: center; }
        input, select { width: 100%; padding: 16px; margin: 8px 0; border: none; border-radius: 12px; font-size: 16px; outline: none; background: #fff; color: #333; }
        .btn-log { width: 100%; padding: 18px; background: #000; color: #fff; border: none; border-radius: 12px; font-weight: 900; cursor: pointer; margin-top: 10px; }

        /* –ò–ù–¢–ï–†–§–ï–ô–° */
        #app { display: none; flex-direction: column; height: 100vh; }
        .top-bar { padding: 20px; background: rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; }
        .main-list { flex: 1; overflow-y: auto; padding: 12px; }
        .chat-card { background: rgba(255,255,255,0.15); padding: 18px; border-radius: 16px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; backdrop-filter: blur(10px); cursor: pointer; }
        .ava { width: 48px; height: 48px; border-radius: 50%; background: #fff; color: var(--orange); display: flex; align-items: center; justify-content: center; font-size: 22px; }

        /* –û–ö–ù–û –ß–ê–¢–ê */
        #chat-win { position: fixed; inset: 0; background: var(--bg); display: none; flex-direction: column; z-index: 9000; }
        .chat-header { padding: 15px; background: rgba(0,0,0,0.1); display: flex; align-items: center; gap: 15px; }
        .messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 12px 16px; border-radius: 18px; max-width: 80%; background: rgba(255,255,255,0.2); font-size: 15px; }
        .msg.me { background: #000; align-self: flex-end; }
        .chat-input { padding: 15px; display: flex; gap: 10px; background: rgba(0,0,0,0.05); }

        /* –ê–î–ú–ò–ù–ö–ê */
        #adm-menu { display: none; background: #000; padding: 10px; display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; }
        #adm-menu button { background: #ff4400; color: #fff; border: none; padding: 6px 12px; border-radius: 6px; font-size: 11px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="auth">
        <div class="auth-form">
            <h1 style="font-size: 45px; margin-bottom: 25px;">NNITRO</h1>
            <input type="text" id="n" placeholder="–ù–ò–ö">
            <input type="password" id="p" placeholder="–ü–ê–†–û–õ–¨">
            <select id="e"><option value="üî•">üî•</option><option value="üëë">üëë</option><option value="üíé">üíé</option><option value="ü•∑">ü•∑</option></select>
            <input type="password" id="k" placeholder="–ö–û–î">
            <button class="btn-log" onclick="start()">–í–û–ô–¢–ò</button>
        </div>
    </div>

    <div id="app">
        <div id="adm-menu">
            <button onclick="adm('ban')">BAN</button>
            <button onclick="adm('mute')">MUTE</button>
            <button onclick="adm('unban')">UNBAN</button>
            <button onclick="db.ref().remove()">WIPE ALL</button>
        </div>
        <div class="top-bar">
            <div>
                <h2 id="myNick" onclick="showAdm()"></h2>
                <small id="onlineCount">–°–ï–¢–¨: 0</small>
            </div>
            <div id="myAva" class="ava"></div>
        </div>
        <div class="main-list" id="list"></div>
        <button onclick="addGrp()" style="position:fixed; bottom:25px; right:25px; width:65px; height:65px; border-radius:50%; background:#000; color:#fff; border:none; font-size:35px; box-shadow: 0 4px 15px rgba(0,0,0,0.4);">+</button>
    </div>

    <div id="chat-win">
        <div class="chat-header">
            <span onclick="document.getElementById('chat-win').style.display='none'" style="font-size:35px; cursor:pointer">‚Üê</span>
            <b id="chatTitle"></b>
        </div>
        <div class="messages" id="msgs"></div>
        <div class="chat-input">
            <input type="text" id="mIn" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ...">
            <button onclick="send()" style="background:none; border:none; color:#000; font-weight:900; font-size:18px;">OK</button>
        </div>
    </div>

    <script>
        const config = { databaseURL: "https://nnitro-system-default-rtdb.firebaseio.com" };
        firebase.initializeApp(config);
        const db = firebase.database();
        let my = {}, cur = "";

        async function start() {
            const n = document.getElementById('n').value.trim();
            const k = document.getElementById('k').value;
            if (k !== 'NNITRO-2026'
